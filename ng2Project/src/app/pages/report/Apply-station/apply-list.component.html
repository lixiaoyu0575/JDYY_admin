<div class="widgets">
  <div class="row">
    <ba-card title="影像列表" baCardClass="with-scroll" class="data-table-container">
      <div class="row">
        <div class="col-md-2">
          <label>检查编号：</label>
          <input class="form-control">
        </div>
        <div class="col-md-2">
          <label>影像类型：</label>
          <select class="form-control" >
            <option>CT</option>
            <option>MR</option>
          </select>
        </div>
        <div class="col-md-2">
            <label >报告状态：</label>
          <select class="form-control" >
            <option>无</option>
            <option>待书写</option>
            <option>待审核</option>
            <option>已审核</option>
          </select>
        </div>
        <div class="col-md-2">
            <label >日期选择：</label>
            <select class="form-control" >
              <option>检查日期</option>
              <option>报告日期</option>
            </select>
        </div>
        <div class="col-md-4">
          <div class="row" style="margin-top: 4%">
            <input type="date" class="form-control" [(ngModel)]="startdate" style="width: 33%">
            <label style="margin-top: 2.4%;">～</label>
            <input type="date" class="form-control" [(ngModel)]="enddate" style="width: 33%">
            <button class="btn btn-primary" style="margin-left: 2%;width: 25%" (click)="filterTime()">查询</button>
          </div>
        </div>
      </div>
      <br>
      <div class="panel panel-default">
        <!--<div class="panel-heading">User information T</div>-->

        <table class="table table-hover" [mfData]="data | idFilter : idFilterQuery |
         nameFilter : nameFilterQuery | ageFilter : ageFilterQuery | examContentFilter : examContentFilterQuery |
         timeFilter : timeFilterQuery | statusFilter : statusFilterQuery "
               #mf="mfDataTable" [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
          <thead>
          <tr>
            <th style="width: 10%">
              <mfDefaultSorter by="hos">送检医院</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="pID">患者编号</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="eID">检查编号</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="name">姓名</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="gender">性别</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="age">年龄</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="examContent">检查内容</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="time">时间</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="status">申请状态</mfDefaultSorter>
            </th>
            <th style="width: 10%;text-align: center">
              <mfDefaultSorter by="operation">操作</mfDefaultSorter>
            </th>
          </tr>
<!--          <tr>
            <th colspan="1">
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="idFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="nameFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="ageFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="examContentFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="timeFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="statusFilterQuery" />
            </th>
          </tr>-->
          </thead>
          <tbody>
          <tr *ngFor="let item of mf.data" (dblclick)="onSelect(item);getDetails(item)">
            <td style="text-align: center">{{item.sendHospital}}</td>
            <td style="text-align: center">{{item.patientID}}</td>
            <td style="text-align: center">{{item.examID}}</td>
            <td style="text-align: center">{{item.name}}</td>
            <td style="text-align: center">{{item.gender}}</td>
            <td style="text-align: center">{{item.age}}</td>
            <td style="text-align: center">{{item.examContent}}</td>
            <td style="text-align: center">{{item.time}}</td>
            <td style="text-align: center">{{item.applystatus}}</td>
            <td style="text-align: center" *ngIf="item.applystatus === '待申请'">
              <a [routerLink]="'/pages/report/applyEdit/'+item.examID+'/imageDetail'" routerLinkActive="active" style="color: #8eb0e7" (click)="onSelect(item)">申请阅片</a>
            </td>
            <td style="text-align: center" *ngIf="item.applystatus != '待申请'">
              <a [routerLink]="'/pages/report/imgViewer/'+item.examID+'/applyDetail/'+item.examID" routerLinkActive="active" style="color: #8eb0e7" (click)="onSelect(item)">查看申请</a>
            </td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="12">
              <mfBootstrapPaginator [rowsOnPageSet]="[5,10,15]"></mfBootstrapPaginator>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
    </ba-card>
  </div>
</div>
