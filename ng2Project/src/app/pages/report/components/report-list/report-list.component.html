<ba-card>
  <div class="widget" >
    <div class="row">
      <div class="col-md-8"><h2>报告查询</h2></div>
    </div>
    <br>
    <div class="row" *ngIf="reports">
      <div class="panel panel-default">
        <table class="table table-hover" [mfData]="reports | idFilter : idFilterQuery |
         nameFilter : nameFilterQuery | ageFilter : ageFilterQuery | scantypeFilter : scantypeFilterQuery |
         timeFilter : timeFilterQuery | statusFilter : statusFilterQuery "
               #mf="mfDataTable" [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
          <thead>
          <tr>
            <th style="width: 10%"></th>
            <th style="width: 15%">
              <mfDefaultSorter by="_ID">ID</mfDefaultSorter>
            </th>
            <th style="width: 15%">
              <mfDefaultSorter by="name">姓名</mfDefaultSorter>
            </th>
            <th style="width: 15%">
              <mfDefaultSorter by="age">年龄</mfDefaultSorter>
            </th>
            <th style="width: 15%">
              <mfDefaultSorter by="scantype">检查类型</mfDefaultSorter>
            </th>
            <th style="width: 20%">
              <mfDefaultSorter [by]="time">时间</mfDefaultSorter>
            </th>
            <th style="width: 10%">
              <mfDefaultSorter [by]="status">状态</mfDefaultSorter>
            </th>
          </tr>
          <tr>
            <th colspan="1">
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="idFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="nameFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="ageFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="scanFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="timeFilterQuery" />
            </th>
            <th colspan="1">
              <input class="form-control" [(ngModel)]="statusFilterQuery" />
            </th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of mf.data" (click)="onSelect(item);getHero(item.name)">
            <ng-container>
              <td>
                <button (click)="remove(item)" class="btn btn-danger">x</button>
              </td>
              <td>{{item._id}}</td>
              <td>{{item.name}}</td>
              <td>{{item.age}}</td>
              <td>{{item.scan}}</td>
              <td>{{item.date}}</td>
              <td [ngStyle]="{'color':item.status==='报告已完成,待审核'?'#ff5151':'#7afec6'}">{{item.status}}</td>
            </ng-container>
          </tr>
          </tbody>
           <tfoot>
           <tr>
             <td colspan="7">
               <mfBootstrapPaginator [rowsOnPageSet]="[5,10,15]"></mfBootstrapPaginator>
             </td>
           </tr>
           </tfoot>
        </table>
      </div>
    </div>
    <hr *ngIf="selectedReport">
    <br>
<div class="row" *ngIf="selectedReport">
  <div class="col-md-3"></div>
  <div class="col-md-6">
    <nav md-tab-nav-bar>
      <a md-tab-link *ngFor="let link of navLinks" (click)="onswitch(link)">
        {{link.label}}
      </a>
    </nav>
  </div>
  <div class="col-md-3"></div>
</div>
    <report-detail [report]="selectedReport" *ngIf="selectedReport && selectedTab === 0"></report-detail>
    <application-detail [hero]="hero" *ngIf="selectedReport && selectedTab === 1"></application-detail>
  </div>
</ba-card>
